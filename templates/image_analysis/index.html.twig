{% extends 'base.html.twig' %}

{% block title %}Analyse d'Image{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h2>Analyse d'image avec OpenAI</h2>

        {# Formulaire d'analyse de l'image existant #}
        {% if error %}
            <div class="alert alert-danger">{{ error }}</div>
        {% endif %}



        {% if analysis %}
            <div class="alert alert-success mt-4">
                <h4>Résultat de l'analyse :</h4>
                <pre>{{ analysis|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
            </div>
        {% endif %}

        {# Formulaire de création d'Outfit #}
        <hr>
        <h2>Créer un nouvel Outfit</h2>
        <form method="post">
            {{ form_start(form) }} {# $outfitForm nommé 'form' dans le render #}
            {{ form_widget(form) }}
            <button type="submit" class="btn btn-success mt-2">Enregistrer l'Outfit</button>
            {{ form_end(form) }}
        </form>
    </div>
{% endblock %}
